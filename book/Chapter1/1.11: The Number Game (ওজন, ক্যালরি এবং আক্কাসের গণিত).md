рзз.рззрзз.рзз JavaScript Numbers: рж╕ржм ржЬржЧрж╛ржЦрж┐ржЪрзБржбрж╝рж┐ ржПржХ ржкрж╛рждрзНрж░рзЗ ЁЯН▓
ЁЯдФ ржжрзГрж╢рзНржпржкржЯ (Scene)
ржЖржХрзНржХрж╛рж╕ ржорж┐рзЯрж╛ рж╕рж┐ (C) ржмрж╛ ржЬрж╛ржнрж╛ (Java) ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж╛рж░ржжрзЗрж░ ржжрзЗржЦрзЗржЫрзЗред рждрж╛рж░рж╛ ржкрзВрж░рзНржгрж╕ржВржЦрзНржпрж╛рж░ ржЬржирзНржп рж▓рзЗржЦрзЗ int ржЖрж░ ржжрж╢ржорж┐ржХрзЗрж░ ржЬржирзНржп рж▓рзЗржЦрзЗ float ржмрж╛ doubleред ржЖржХрзНржХрж╛рж╕ ржнрж╛ржмрж▓, "ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗржУ ржирж┐рж╢рзНржЪрзЯржЗ ржПржоржи ржирж┐рзЯржо ржЖржЫрзЗред"
ржХрж┐ржирзНрждрзБ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЗржЮрзНржЬрж┐ржи рж╣рзЗрж╕рзЗ ржмрж▓рж▓:
"ржЖржХрзНржХрж╛рж╕ ржнрж╛ржЗ, ржЖржорж╛рж░ ржХрж╛ржЫрзЗ ржнрзЗржжрж╛ржнрзЗржж ржирж╛ржЗ! ржкрзВрж░рзНржгрж╕ржВржЦрзНржпрж╛ рж╣рзЛржХ ржмрж╛ ржжрж╢ржорж┐ржХтАФрж╕ржмрж╛ржЗ ржЖржорж╛рж░ ржХрж╛ржЫрзЗ Numberред рж╕ржм ржПржХ ржкрж╛рждрзНрж░рзЗрж░ ржЬржЧрж╛ржЦрж┐ржЪрзБрзЬрж┐!"
let weight = 85; // ржЖржХрзНржХрж╛рж╕ ржнрж╛ржмржЫрзЗ ржПржЯрж╛ Integer
let height = 5.8; // ржЖржХрзНржХрж╛рж╕ ржнрж╛ржмржЫрзЗ ржПржЯрж╛ Float
рзз. рж╕ржм ржПржХ ржШрж╛ржЯрзЗрж░ ржЬрж▓ (64-bit Floating Point)
ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ int, float, short, longтАФржПрж╕ржм ржЖрж▓рж╛ржжрж╛ ржХрзЛржирзЛ ржЯрж╛ржЗржк ржирзЗржЗред ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ рж╕ржм рж╕ржВржЦрзНржпрж╛ржХрзЗ 64-bit Floating Point (IEEE 754 standard) ржлрж░ржорзНржпрж╛ржЯрзЗ рж╕рзЗржн ржХрж░рзЗред
ржмрж┐рж╢рж╛рж▓ рж╕ржВржЦрзНржпрж╛: let x = 123e5; (рззрзирзйрзжрзжрзжрзжрзж)
ржкрж┐ржЪрзНржЪрж┐ рж╕ржВржЦрзНржпрж╛: let y = 123e-5; (рзж.рзжрзжрззрзирзй)
рзи. The Great Floating Point Problem (рзж.рзз + рзж.рзи ржПрж░ рж░рж╣рж╕рзНржп) ЁЯШ▒
ржЖржХрзНржХрж╛рж╕ рж╕ржХрж╛рж▓рзЗ рзж.рзз ржХрзЗржЬрж┐ ржЖржкрзЗрж▓ ржЖрж░ ржмрж┐ржХрзЗрж▓рзЗ рзж.рзи ржХрзЗржЬрж┐ ржЖржкрзЗрж▓ ржЦрзЗрж▓ред ржорзЛржЯ ржХржд рж╣рж▓рзЛ? рзж.рзй ржХрзЗржЬрж┐, рждрж╛ржЗ рждрзЛ?
ЁЯСиЁЯТ╗ ржЖржХрзНржХрж╛рж╕рзЗрж░ ржХрзЛржб:
let x = 0.1 + 0.2;
console.log(x);
ЁЯСЙ ржЖржЙржЯржкрзБржЯ: 0.30000000000000004
ржЖржХрзНржХрж╛рж╕: "ржнрж╛ржЗрж░рзЗ ржнрж╛ржЗ! ржПржЗ рж╢рзЗрж╖рзЗрж░ 4 ржХрзЛрждрзНржерзЗржХрзЗ ржПрж▓?
ржХрж╛рж░ржг: ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЪрж▓рзЗ ржмрж╛ржЗржирж╛рж░рж┐ (0 ржЖрж░ 1) ржжрж┐рзЯрзЗред ржХрж┐ржЫрзБ ржжрж╢ржорж┐ржХ рж╕ржВржЦрзНржпрж╛ (ржпрзЗржоржи 0.1) ржмрж╛ржЗржирж╛рж░рж┐рждрзЗ ржХржиржнрж╛рж░рзНржЯ ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ ржЕрж╕рзАржо ржнржЧрзНржирж╛ржВрж╢ рждрзИрж░рж┐ рж╣рзЯред рждрж╛ржЗ ржПржЗ ржЫрзЛржЯ ржЧрж░ржорж┐рж▓ред
тЬЕ рж╕ржорж╛ржзрж╛ржи: ржЧрзБржг ржХрж░рзЗ ржкрзВрж░рзНржгрж╕ржВржЦрзНржпрж╛ ржмрж╛ржирж┐рзЯрзЗ ржпрзЛржЧ ржХрж░рж╛, рждрж╛рж░ржкрж░ ржнрж╛ржЧ ржХрж░рж╛ред
let x = (0.2 _ 10 + 0.1 _ 10) / 10; // result:0.3
рзй. Integer Precision (ржХржд ржжрзВрж░ ржкрж░рзНржпржирзНржд ржирж┐рж░рж╛ржкржж?)
ржкрзВрж░рзНржгрж╕ржВржЦрзНржпрж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ рззрзл ржбрж┐ржЬрж┐ржЯ ржкрж░рзНржпржирзНржд ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржирж┐рж░рж╛ржкржжред ржПрж░ ржмрзЗрж╢рж┐ рж╣рж▓рзЗ рж╕рзЗ ржЧрзБрж▓рж┐рзЯрзЗ ржлрзЗрж▓рзЗред
let x = 999999999999999; // рззрзлржЯрж╛ рзп -> ржарж┐ржХ ржЖржЫрзЗ
let y = 9999999999999999; // рззрзмржЯрж╛ рзп -> рж╣рзЯрзЗ ржпрж╛ржмрзЗ рззрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзжрзж!
рзк. ржпрзЛржЧ ржирж╛ржХрж┐ ржЬрзЛрзЬрж╛? (Addition vs Concatenation) тЪая╕П
ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ + ржЕржкрж╛рж░рзЗржЯрж░ ржжрзБржЗржЯрж╛ ржХрж╛ржЬ ржХрж░рзЗ: рзз. рж╕ржВржЦрзНржпрж╛ ржкрзЗрж▓рзЗ ржпрзЛржЧ ржХрж░рзЗред рзи. рж╕рзНржЯрзНрж░рж┐ржВ ржкрзЗрж▓рзЗ ржЬрзЛрзЬрж╛ рж▓рж╛ржЧрж╛рзЯ (Concatenation)ред
ржЖржХрзНржХрж╛рж╕ ржорж┐рзЯрж╛ ржнрж╛ржмржЫрзЗ, + ржорж╛ржирзЗржЗ рждрзЛ ржпрзЛржЧ!
ржХрж┐ржирзНрждрзБ JavaScript ржмрж▓рзЗ тАФ тАЬржПржд рж╕рж╣ржЬ ржирж╛ ржнрж╛ржЗ ЁЯШПтАЭ
ржЪрж▓рзЛ ржжрзЗржЦрж┐ ржЖрж╕рж▓ ржХрж╛рж╣рж┐ржирж┐ред
ЁЯЯв 10 + 20 рж░рзЗржЬрж╛рж▓рзНржЯ: 30
ржжрзБржЗржЬржирзЗржЗ ржнржжрзНрж░ рж╕ржВржЦрзНржпрж╛ред ржжрзЗржЦрж╛ рж╣рждрзЗржЗ рж╣рж╛ржд ржорж┐рж▓рж┐рзЯрзЗ ржпрзЛржЧ ржХрж░рзЗ ржлрзЗрж▓рж▓ред ЁЯдЭ
ЁЯЯб "10" + "20"
рж░рзЗржЬрж╛рж▓рзНржЯ: "1020"
ржПрж░рж╛ ржХрж┐ржирзНрждрзБ рж╕ржВржЦрзНржпрж╛ ржирж╛, рж╕рзНржЯрзНрж░рж┐ржВ! рждрж╛ржЗ ржпрзЛржЧ ржирж╛ ржХрж░рзЗ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржжрж╛ржБрзЬрж┐рзЯрзЗ ржЫржмрж┐ рждрзБрж▓рж▓ ЁЯУ╕ тЖТ "1020"
ЁЯФ┤ 10 + "20"
рж░рзЗржЬрж╛рж▓рзНржЯ: "1020"
ржПржЦрж╛ржирзЗржЗ ржЖрж╕рж▓ ржирж╛ржЯржХ ЁЯОн
ржПржХржЯрж╛ рж╕рзНржЯрзНрж░рж┐ржВ ржврзБржХрзЗ ржкрзЬрж▓рзЗржЗ JavaScript ржмрж▓рзЗтАФ тАЬрж╕ржмрж╛ржЗ рж╕рзНржЯрзНрж░рж┐ржВ рж╣ржУ!тАЭ
рждрж╛ржЗ 10-ржУ ржмрж╛ржзрзНржп рж╣рзЯрзЗ рж╕рзНржЯрзНрж░рж┐ржВ рж╣рзЯрзЗ ржпрж╛рзЯред ржлрж▓рж╛ржлрж▓? ржЬрзЛрзЬрж╛ рж▓рж╛ржЧрж╛ред
ЁЯза "The result is: " + 10 + 20
рж░рзЗржЬрж╛рж▓рзНржЯ: "The result is: 1020"
JavaScript ржмрж╛ржо ржерзЗржХрзЗ ржбрж╛ржирзЗ ржХрж╛ржЬ ржХрж░рзЗред
ржкрзНрж░ржержорзЗ: "The result is: " + 10 тЖТ "The result is: 10"
рждрж╛рж░ржкрж░: "...10" + 20 тЖТ "...1020"
ржорж╛ржирзЗ ржПржХржмрж╛рж░ рж╕рзНржЯрзНрж░рж┐ржВ рж╢рзБрж░рзБ рж╣рж▓рзЗ ржЦрзЗрж▓рж╛ рж╢рзЗрж╖ ЁЯШЕ
ЁЯОп 10 + 20 + "30"
рж░рзЗржЬрж╛рж▓рзНржЯ: "3030"
ржкрзНрж░ржержорзЗ 10 + 20 = 30 (ржПржЦржиржУ рж╕ржм ржарж┐ржХ ржЖржЫрзЗ ЁЯШЗ)
рждрж╛рж░ржкрж░ 30 + "30" тЖТ рж╕рзНржЯрзНрж░рж┐ржВ ржПрж╕рзЗ ржврзБржХрж▓ тЖТ ржлрж▓рж╛ржлрж▓ "3030"

ЁЯУМ ржЖржХрзНржХрж╛рж╕ ржорж┐рзЯрж╛рж░ рж╢рж┐ржХрзНрж╖рж╛
рж╕ржВржЦрзНржпрж╛ + рж╕ржВржЦрзНржпрж╛ = ржпрзЛржЧ
рж╕рзНржЯрзНрж░рж┐ржВ + рж╕рзНржЯрзНрж░рж┐ржВ = ржЬрзЛрзЬрж╛
рж╕ржВржЦрзНржпрж╛ + рж╕рзНржЯрзНрж░рж┐ржВ = ржкрзБрж░рзЛ ржмрзНржпрж╛ржкрж╛рж░ржЯрж╛ржЗ рж╕рзНржЯрзНрж░рж┐ржВ
JavaScript рж╕ржмрж╕ржорзЯ ржмрж╛ржо ржерзЗржХрзЗ ржбрж╛ржирзЗ рж╣рж╛ржБржЯрзЗ ЁЯЪ╢

ржЖржХрзНржХрж╛рж╕ ржорж┐рзЯрж╛ ржПржЦржи ржмрзБржЭрзЗржЫрзЗ тАФ JavaScript-ржП + ржЪрж┐рж╣рзНржи ржЦрзБржм ржирж┐рж░рзАрж╣ ржирж╛ ЁЯШМ
рждрзБржорж┐ ржкрзНрж░ржержорзЗ ржнрж╛ржмржмрзЗ тАЬржпрзЛржЧтАЭ JavaScript ржнрж╛ржмржмрзЗ тАЬржжрзЗржЦрж┐ ржЯрж╛ржЗржк ржХрзА!тАЭ ЁЯШО
рзл. Numeric Strings (ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗрж░ ржмрзБржжрзНржзрж┐ржорждрзНрждрж╛) ЁЯза
ржпрзЛржЧрзЗрж░ рж╕ржорзЯ ржЭрж╛ржорзЗрж▓рж╛ ржХрж░рж▓рзЗржУ, ржЧрзБржг \*, ржнрж╛ржЧ / ржмрж╛ ржмрж┐рзЯрзЛржЧ - ржХрж░рж╛рж░ рж╕ржорзЯ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ рж╕рзНржЯрзНрж░рж┐ржВржЧрзБрж▓рзЛржХрзЗ рж╕ржВржЦрзНржпрж╛рзЯ ржХржиржнрж╛рж░рзНржЯ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗред
let x = "100";
let y = "10";

console.log(x / y); // 10 (ржХрж╛ржЬ ржХрж░ржмрзЗ)
console.log(x \* y); // 1000 (ржХрж╛ржЬ ржХрж░ржмрзЗ)
console.log(x - y); // 90 (ржХрж╛ржЬ ржХрж░ржмрзЗ)
console.log(x + y); // "10010" (ржпрзЛржЧрзЗрж░ рж╕ржорзЯ рж╕рзНржЯрзНрж░рж┐ржВ ржХржиржХрзНржпрж╛ржЯрзЗржирзЗрж╢ржи рж╣ржмрзЗ!)
рзм. NaN (Not a Number) - рж╕ржВржЦрзНржпрж╛рж░ ржнрзВржд ЁЯС╗
ржЖржХрзНржХрж╛рж╕ ржпржжрж┐ рззрзжрзж ржХрзЗ "Apple" ржжрж┐рзЯрзЗ ржнрж╛ржЧ ржХрж░рждрзЗ ржпрж╛рзЯ, ржХрзА рж╣ржмрзЗ?
let x = 100 / "Apple";
console.log(x); // result :NaN
NaN ржорж╛ржирзЗ Not a Numberред ржХрж┐ржирзНрждрзБ ржоржЬрж╛рж░ ржмрзНржпрж╛ржкрж╛рж░ рж╣рж▓рзЛ, ржЖржкржирж┐ ржпржжрж┐ ржЪрзЗржХ ржХрж░рзЗржи typeof NaN, ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмрж▓ржмрзЗ ржПржЯрж╛ ржПржХржЯрж╛ number! (ржЖржХрзНржХрж╛рж╕ ржЕржЬрзНржЮрж╛ржи!) ЁЯШ╡

рзн. Infinity (ржЕрж╕рзАржо) тЩ╛я╕П
ржпржжрж┐ ржХрзЛржирзЛ рж╕ржВржЦрзНржпрж╛ржХрзЗ 0 ржжрж┐рзЯрзЗ ржнрж╛ржЧ ржжрзЗржи, ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржПрж░рж░ ржжрж┐ржмрзЗ ржирж╛ред рж╕рзЗ ржжрж┐ржмрзЗ Infinityред
let x = 2 / 0; // Infinity
let y = -2 / 0; // -Infinity
рзо. Numbers as Objects (ржмрж┐ржкржж рж╕ржВржХрзЗржд) ЁЯЪл
ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ new Number() ржжрж┐рзЯрзЗ рж╕ржВржЦрзНржпрж╛ржХрзЗ ржЕржмржЬрзЗржХрзНржЯ ржмрж╛ржирж╛ржирзЛ ржпрж╛рзЯред ржЖржХрзНржХрж╛рж╕рзЗрж░ ржнрж╛ржЗрзЯрж╛ ржмрж▓рзЗржЫрзЗ: "ржЦржмрж░ржжрж╛рж░! ржПржЯрж╛ ржХрж░ржмрж┐ ржирж╛ред"
ржХрзЗржи? рзз. ржХрзЛржб рж╕рзНрж▓рзЛ рж╣рзЯрзЗ ржпрж╛рзЯред рзи. рждрзБрж▓ржирж╛ ржХрж░рждрзЗ ржЧрзЗрж▓рзЗ ржорж╛ржерж╛ ржЦрж╛рж░рж╛ржк рж╣рзЯрзЗ ржпрж╛ржмрзЗред
let x = 500; // рж╕рж╛ржзрж╛рж░ржг рж╕ржВржЦрзНржпрж╛
let y = new Number(500); // ржЕржмржЬрзЗржХрзНржЯ

console.log(x === y); // false (ржХрж╛рж░ржг ржЯрж╛ржЗржк ржЖрж▓рж╛ржжрж╛)
ржПржоржиржХрж┐ ржжрзБржЗржЯрж╛ ржЕржмржЬрзЗржХрзНржЯржУ рж╕ржорж╛ржи рж╣рзЯ ржирж╛!
let a = new Number(500);
let b = new Number(500);
console.log(a == b); // false (ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ ржжрзБржЗржЯрж╛ ржЕржмржЬрзЗржХрзНржЯ ржХржЦржирзЛ рж╕ржорж╛ржи рж╣рзЯ ржирж╛)
ЁЯЪА рж╕рж╛ржорж╛рж░рж┐:
ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗ рж╕ржм рж╕ржВржЦрзНржпрж╛ржЗ 64-bit Floating Pointред
0.1 + 0.2 ржПржХржЯрзБ рж╕рж╛ржмржзрж╛ржирзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред

- ржЕржкрж╛рж░рзЗржЯрж░ рж╕рзНржЯрзНрж░рж┐ржВ ржкрзЗрж▓рзЗржЗ ржЬрзЛрзЬрж╛ рж▓рж╛ржЧрж┐рзЯрзЗ ржжрзЗрзЯ, ржмрж╛ржХрж┐ ржЕржкрж╛рж░рзЗржЯрж░рж░рж╛ (-, \*, /) рж╕рзНржЯрзНрж░рж┐ржВржХрзЗ рж╕ржВржЦрзНржпрж╛рзЯ ржХржиржнрж╛рж░рзНржЯ ржХрж░рзЗред
  NaN ржХрзЛржирзЛ рж╕ржВржЦрзНржпрж╛ ржирж╛, ржХрж┐ржирзНрждрзБ рждрж╛рж░ ржЯрж╛ржЗржк ржирж╛ржорзНржмрж╛рж░ред
  new Number() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╕рзНржмрж╛рж╕рзНржерзНржпрзЗрж░ (code) ржЬржирзНржп ржХрзНрж╖рждрж┐ржХрж░ред
